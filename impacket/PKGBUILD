# Maintainer: Paul Taylor <bao7uo at gmail dot com>

pkgname=impacket
pkgver=0_9_17.48.g4473816f
pkgrel=1
pkgdesc="Latest Impacket including new features, particularly in the examples scripts"
arch=('any')
url="https://github.com/CoreSecurity/impacket"
license=('custom')
depends=('python2-crypto' 'python2-pcapy' 'python2-pyasn1' 'python2-pyopenssl' 'python2-ldap3' 'python2-flask' 'python2-ldapdomaindump' 'python2-pycryptodomex')
makedepends=('python2-setuptools')
source=("$pkgname"::"git+${url}.git")
md5sums=("SKIP")

pkgver() {
  cd "$pkgname"
  git describe --tags | sed "s/impacket_//" | sed "s/-/./g"
}

package() {
  cd "$pkgname"
  python2 setup.py install --root="$pkgdir/" --optimize=1
}
